[MappingDeclaration] @collection [[
# Rule to create Employee instances with their details
mappingId    EmployeeMapping
target       :emp/{emp_id} a :Employee ; :firstName {first_name} ; :lastName {last_name} ; :email {email} ; :hireDate {hire_date} ; :jobTitle {job_title} .
source       select emp_id, first_name, last_name, email, hire_date, job_title from employees

# Rule to create Department instances
mappingId    DepartmentMapping
target       :dept/{dept_id} a :Department ; :departmentName {dept_name} .
source       select dept_id, dept_name from departments

# Rule to create Project instances
mappingId    ProjectMapping
target       :proj/{proj_id} a :Project .
source       select proj_id from projects

# Rule to connect an Employee to their Department
mappingId    WorksInMapping
target       :emp/{emp_id} :worksIn :dept/{department_id} .
source       select emp_id, department_id from employees where department_id is not null

# Rule to connect a Project Leader to their Project
mappingId    LeadsProjectMapping
target       :emp/{lead_emp_id} :leadsProject :proj/{proj_id} .
source       select lead_emp_id, proj_id from projects where lead_emp_id is not null
]]
